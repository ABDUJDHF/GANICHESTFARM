-- ============================================
-- ğŸ”¥ BLOX FRUITS AUTOFARM SCRIPT ğŸ”¥
--      Made by Dev.Gani
--      Discord: d.6a
-- ============================================
print("\n" .. string.rep("=", 50))
print("ğŸ”¥ BLOX FRUITS AUTOFARM SCRIPT ğŸ”¥")
print("      Made by Dev.Gani")
print("      Discord: d.6a")
print(string.rep("=", 50) .. "\n")


getgenv().Server_Hop = true
getgenv().Chest_Farm = true
getgenv().wait_Time = 90
getgenv().AutoStopOnGodChalice = true


-- âœ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
local settingsFile = "DevGani_Settings.json"
local settings = {}
pcall(function()
    settings = game:GetService('HttpService'):JSONDecode(readfile(settingsFile))
    getgenv().AutoStopOnGodChalice = settings.AutoStopOnGodChalice or true
end)


-- ğŸ”¥ Ø²Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø£Ù†ÙŠÙ‚
spawn(function()
    wait(2)
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "DevGaniControl"
    screenGui.Parent = game:GetService("CoreGui")
    screenGui.ResetOnSpawn = false
    
    local frame = Instance.new("Frame")
    frame.Parent = screenGui
    frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    frame.BackgroundTransparency = 0.15
    frame.BorderSizePixel = 0
    frame.Position = UDim2.new(0.85, 0, 0.1, 0)
    frame.Size = UDim2.new(0, 60, 0, 60)
    frame.ClipsDescendants = true
    
    local corner = Instance.new("UICorner")
    corner.Parent = frame
    corner.CornerRadius = UDim.new(0, 30)
    
    local stroke = Instance.new("UIStroke")
    stroke.Parent = frame
    stroke.Color = Color3.fromRGB(255, 255, 255)
    stroke.Thickness = 2
    stroke.Transparency = 0.5
    
    local button = Instance.new("TextButton")
    button.Parent = frame
    button.Size = UDim2.new(1, 0, 1, 0)
    button.BackgroundColor3 = getgenv().AutoStopOnGodChalice and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
    button.BackgroundTransparency = 0.2
    button.Text = getgenv().AutoStopOnGodChalice and "âœ…" or "âŒ"
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextScaled = true
    button.Font = Enum.Font.GothamBold
    button.BorderSizePixel = 0
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.Parent = button
    buttonCorner.CornerRadius = UDim.new(0, 30)
    
    local title = Instance.new("TextLabel")
    title.Parent = screenGui
    title.BackgroundTransparency = 1
    title.Position = UDim2.new(0.85, 70, 0.1, 15)
    title.Size = UDim2.new(0, 150, 0, 30)
    title.Text = "God Chalice Stop"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextScaled = true
    title.Font = Enum.Font.GothamBold
    title.BackgroundTransparency = 1
    title.TextXAlignment = Enum.TextXAlignment.Left
    
    local glow = Instance.new("ImageLabel")
    glow.Parent = frame
    glow.BackgroundTransparency = 1
    glow.Position = UDim2.new(0, -10, 0, -10)
    glow.Size = UDim2.new(1, 20, 1, 20)
    glow.Image = "rbxassetid://4996896642"
    glow.ImageColor3 = getgenv().AutoStopOnGodChalice and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
    glow.ImageTransparency = 0.7
    
    -- ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    local function saveSettings()
        local settings = {
            AutoStopOnGodChalice = getgenv().AutoStopOnGodChalice
        }
        writefile(settingsFile, game:GetService('HttpService'):JSONEncode(settings))
    end
    
    -- ğŸ”„ ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø²Ø±
    button.MouseButton1Click:Connect(function()
        getgenv().AutoStopOnGodChalice = not getgenv().AutoStopOnGodChalice
        button.BackgroundColor3 = getgenv().AutoStopOnGodChalice and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
        button.Text = getgenv().AutoStopOnGodChalice and "âœ…" or "âŒ"
        glow.ImageColor3 = getgenv().AutoStopOnGodChalice and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
        saveSettings()
        print(getgenv().AutoStopOnGodChalice and "ğŸŸ¢ Auto-stop ENABLED" or "ğŸ”´ Auto-stop DISABLED")
    end)
end)


-- ğŸ”¥ Ù…Ø±Ø§Ù‚Ø¨Ø© God Chalice Ùˆ Fist of Darkness
spawn(function()
    while wait(1) do
        if getgenv().AutoStopOnGodChalice then
            pcall(function()
                for _, obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("Tool") or obj:IsA("Part") then
                        if obj.Name == "God Chalice" or obj.Name == "Fist of Darkness" then
                            print("\n" .. string.rep("ğŸ’", 40))
                            print("ğŸ’ " .. obj.Name .. " DETECTED!")
                            print("ğŸ’ Stopping chest farm to protect item!")
                            print(string.rep("ğŸ’", 40) .. "\n")
                            
                            getgenv().Chest_Farm = false
                            
                            -- Ø¥Ø´Ø¹Ø§Ø± Ø§Ø­ØªØ±Ø§ÙÙŠ
                            local notif = Instance.new("ScreenGui")
                            notif.Parent = game:GetService("CoreGui")
                            notif.Name = "ItemAlert"
                            
                            local frame = Instance.new("Frame")
                            frame.Parent = notif
                            frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
                            frame.BackgroundTransparency = 0.2
                            frame.BorderSizePixel = 0
                            frame.Position = UDim2.new(0.5, -150, 0.5, -50)
                            frame.Size = UDim2.new(0, 300, 0, 100)
                            
                            local corner = Instance.new("UICorner")
                            corner.Parent = frame
                            corner.CornerRadius = UDim.new(0, 10)
                            
                            local text = Instance.new("TextLabel")
                            text.Parent = frame
                            text.Size = UDim2.new(1, 0, 1, 0)
                            text.BackgroundTransparency = 1
                            text.Text = "ğŸ’ " .. obj.Name .. " FOUND!\nâ¸ï¸ Farm Stopped"
                            text.TextColor3 = Color3.fromRGB(255, 215, 0)
                            text.TextScaled = true
                            text.Font = Enum.Font.GothamBold
                            
                            wait(5)
                            notif:Destroy()
                            
                            break
                        end
                    end
                end
            end)
        end
    end
end)


-- ğŸ”¥ Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚ØµÙˆÙ‰
local speed = {
    teleport = 0.1,      -- Ø³Ø±Ø¹Ø© Ø§Ù„ØªÙ„ÙŠÙ¾ÙˆØ±Øª
    touch = 0.01,        -- Ø³Ø±Ø¹Ø© Ø§Ù„Ù„Ù…Ø³
    wait = 0.3           -- Ø§Ù†ØªØ¸Ø§Ø± Ø¨ÙŠÙ† Ø§Ù„ØµØ¯ÙˆØ±
}


-- ============================================
-- ğŸ“¦ Ù†Ø¸Ø§Ù… Ø¬Ù…Ø¹ Ø§Ù„ØµØ¯ÙˆØ± - Ø³Ø±Ø¹Ø© Ø®Ø§Ø±Ù‚Ø©!
-- ============================================
spawn(function()
   wait(3)
   while task.wait(speed.wait) do
      if getgenv().Chest_Farm then
          pcall(function()
              local character = game.Players.LocalPlayer.Character
              if not character then return end
              
              local HRP = character:FindFirstChild("HumanoidRootPart")
              if not HRP then return end
              
              local chestsList = {}
              
              for _, obj in pairs(workspace:GetDescendants()) do
                  if obj:IsA("BasePart") then
                      if obj.Name == "Chest3" or obj.Name == "Chest2" or obj.Name == "Chest1" then
                          local distance = (HRP.Position - obj.Position).Magnitude
                          table.insert(chestsList, {
                              part = obj,
                              name = obj.Name,
                              distance = distance,
                              priority = obj.Name == "Chest3" and 1 or 
                                        obj.Name == "Chest2" and 2 or 3
                          })
                      end
                  end
              end
              
              table.sort(chestsList, function(a, b)
                  if a.name == "Chest3" and b.name ~= "Chest3" then
                      return true
                  elseif b.name == "Chest3" and a.name ~= "Chest3" then
                      return false
                  end
                  if a.priority == b.priority then
                      return a.distance < b.distance
                  end
                  return a.priority < b.priority
              end)
              
              for _, chestData in ipairs(chestsList) do
                  if not getgenv().Chest_Farm then break end
                  
                  HRP.CFrame = chestData.part.CFrame * CFrame.new(0, 2, 0)
                  task.wait(speed.teleport)
                  
                  for i = 1, 3 do
                      firetouchinterest(HRP, chestData.part, 0)
                      task.wait(speed.touch)
                      firetouchinterest(HRP, chestData.part, 1)
                      task.wait(speed.touch)
                  end
                  
                  if chestData.name == "Chest3" then
                      print("ğŸ’° CHEST3 +2000")
                  end
              end
          end)
      end
   end
end)


-- âš”ï¸ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±ÙŠÙ‚ (Ø£Ø³Ø±Ø¹)
spawn(function()
    wait(1)
    for attempt = 1, 5 do
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetTeam", "Pirates")
        end)
        if game.Players.LocalPlayer.Team and game.Players.LocalPlayer.Team.Name == "Pirates" then
            print("âœ… Pirates team selected!")
            break
        end
        wait(0.3)
    end
end)


-- ğŸ”¥ Ù†Ø¸Ø§Ù… ÙƒØ´Ù Ø§Ù„ÙƒÙŠÙƒ
repeat wait() until game.CoreGui:FindFirstChild('RobloxPromptGui')
local po = game.CoreGui.RobloxPromptGui.promptOverlay
local ts = game:GetService('TeleportService')


po.ChildAdded:connect(function(a)
    if a.Name == 'ErrorPrompt' then
        print("\nğŸš¨ KICK DETECTED! REJOINING...")
        repeat
            ts:Teleport(game.PlaceId)
            wait(2)
        until false
    end
end)


-- ğŸ”„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±
local PlaceID = game.PlaceId
local AllIDs = {}
local foundAnything = ""
local actualHour = os.date("!*t").hour


pcall(function()
    AllIDs = game:GetService('HttpService'):JSONDecode(readfile("NotSameServers.json"))
end)


function TPReturner()
    local Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100'))
    
    for _,v in pairs(Site.data) do
        if v.playing < v.maxPlayers then
            local ID = tostring(v.id)
            local Possible = true
            
            for _,Existing in pairs(AllIDs) do
                if ID == tostring(Existing) then
                    Possible = false
                    break
                end
            end
            
            if Possible then
                table.insert(AllIDs, ID)
                writefile("NotSameServers.json", game:GetService('HttpService'):JSONEncode(AllIDs))
                game:GetService("TeleportService"):TeleportToPlaceInstance(PlaceID, ID, game.Players.LocalPlayer)
                wait(4)
            end
        end
    end
end


function Teleport()
    print("ğŸ”„ Server hopping...")
    TPReturner()
end


-- ğŸš€ Ø§Ù„Ù‚ÙØ² Ø§Ù„Ø¹Ø§Ø¯ÙŠ
spawn(function()
    while wait() do
        if getgenv().Server_Hop then
            wait(getgenv().wait_Time)
            Teleport()
        end
    end
end)


print("\n" .. string.rep("âš¡", 25))
print("âš¡ ULTRA SPEED MODE ACTIVE!")
print("âœ… Green = Auto-stop ON")
print("âœ… Red = Auto-stop OFF")
print("âœ… Settings saved to Delta files")
print("âœ… Made by Dev.Gani | Discord: d.6a")
print(string.rep("âš¡", 25))


end